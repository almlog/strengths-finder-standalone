{
  "permissions": {
    "allow": [
      "Edit",
      "MultiEdit",
      "Bash(npm test:*)",
      "Bash(pytest:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(git checkout:*)"
    ]
  },
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "bash -c 'INPUT=$(cat); COMMAND=$(echo \"$INPUT\" | jq -r \".tool_input.command // empty\"); if echo \"$COMMAND\" | grep -q \"git commit\"; then echo \"ðŸ§ª Running tests before commit...\" >&2; if command -v pytest &>/dev/null; then pytest tests/ --tb=short 2>&1 || (echo \"âŒ Tests failed: commit blocked\" >&2; exit 2); elif command -v npm &>/dev/null && [ -f package.json ]; then npm test 2>&1 || (echo \"âŒ Tests failed: commit blocked\" >&2; exit 2); else echo \"âš ï¸ No test runner found, proceeding...\" >&2; fi; fi'"
          }
        ]
      }
    ]
  }
}
